<% content_for :user, true %>
<% content_for :title, "#{@account.username} - Favourites" %>	
<% content_for :has_footer, true %>
<% content_for :account_active, 'favourites' %>
<% content_for :scripts do %>
<script>

</script>
<% end %>
<% content_for :template, 'account account_favourite' %>

<%= render partial: 'user/account/partials/header' %>

<div class="container">
	<div class="row">
		<div class="col-md-3">
			<%= render partial: 'user/account/partials/sidebar' %>
		</div>

		<div class="col-md-9">
			<div class="bs-branch-section follow">
				<%= render partial: 'partials/flash', locals: { flash: flash } %>
				<div class="page-header">
					<h1><%= @account.username %>'s Favourites</h1>
				</div>

				<% if (@favourites.length > 0) %>
					<% @favourites.each do |favourite| %>
						<% if (favourite.h4_favourite != nil) %>
							<%= render partial: 'user/account/partials/favourites/halo4_game', locals: { h4_favourite: favourite.h4_favourite } %>
						<% else %>
							well, fuck. this favourite type isn't coded yet. oops.
						<% end %>
					<% end %>
				<% else %>
					<h4><%= @account.username %> has no favourites</h4>
				<% end %>
				
				<ul class="pager">
					<li class="previous <%= 'disabled' if !@has_less %>">
						<%= link_to(raw('&larr; Older'), user_favourites_path(username: @username, page: @previous_page)) %>
					</li>
					<li class="next <%= 'disabled' if !@has_more %>">
						<%= link_to(raw('Newer &rarr;'), user_favourites_path(username: @username, page: @next_page)) %>
					</li>
				</ul>
			</div>
		</div>
	</div>
</div>
