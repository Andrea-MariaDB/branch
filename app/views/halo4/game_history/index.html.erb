<% content_for :halo4, true %>
<% content_for :title, "Halo 4 - #{@service_record['Gamertag']}'s Game History" %>	
<% content_for :has_footer, true %>
<% content_for :halo4_active, 'game_history' %>
<% content_for :halo4_game_history_active, @css_class %>
<% content_for :scripts do %>
<script>

</script>
<% end %>
<% content_for :template, 'halo4 halo4_game_history' %>

<%= render partial: 'halo4/partials/header' %>

<div class="container">
	<div class="row">
		<div class="col-md-3">
			<%= render partial: 'halo4/partials/sidebar' %>
		</div>

		<div class="col-md-9">
			<div class="bs-branch-section overview">
				<div class="page-header">
					<h1><%= @friendly_name %> History</h1>
				</div>

				<table class="table">
					<thead>
						<tr>
							<%= render partial: "halo4/game_history/partials/history/header/#{@sub_view}" %>
						</tr>
					</thead>

					<tbody>
						<% @game_history['Games'].each do |game| %>
							<%= render partial: "halo4/game_history/partials/history/row/#{@sub_view}", locals: { game: game } %>
						<% end %>
					</tbody>
				</table>

				<ul class="pager">
					<li class="previous <%= 'disabled' if @page == 0 %> ">
						<%= link_to('← Older', halo4_gamehistory_path( sub_view: @sub_view, page: update_pagination(@page, 'older'))) %>
					</li>
					<li class="next <%= 'disabled' if @is_last_page %>">
						<%= link_to('Newer →', halo4_gamehistory_path( sub_view: @sub_view, page: update_pagination(@page, 'newer'))) %>
					</li>
				</ul>
			</div>
		</div>
	</div>
</div>

